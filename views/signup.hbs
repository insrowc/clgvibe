<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Sign up</title>
    <link rel="icon" type="image/svg-xml" href="./img/favicn.png" />
    {{!-- google fonts --}}
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/signup.css" />
    <link rel="stylesheet" href="css/all.min.css" />
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  </head>
  <style>
    #addnewclg{
      display: none;
    }
  </style>
  <body>
    <div class="container">
      <header>Signup</header>
      <div class="progress-bar">
        <div class="step">
          <p>Name</p>
          <div class="bullet">
            <span>1</span>
          </div>
          <div class="check fas fa-check"></div>
        </div>
        <div class="step">
          <p>Contact</p>
          <div class="bullet">
            <span>2</span>
          </div>
          <div class="check fas fa-check"></div>
        </div>
        <div class="step">
          <p>College</p>
          <div class="bullet">
            <span>3</span>
          </div>
          <div class="check fas fa-check"></div>
        </div>
        <div class="step">
          <p>Submit</p>
          <div class="bullet">
            <span>4</span>
          </div>
          <div class="check fas fa-check"></div>
        </div>
      </div>

      <div class="form-outer">
        <form
          action="/signup"
          id="signupform"
          method="POST"
          enctype="multipart/form-data"
          
        >
          <div class="page slide-page">
            <div class="title">Basic Info:</div>
            <div class="spcbwt">
              <div>
              <img src="https://cliply.co/wp-content/uploads/2020/08/442008111_GLANCING_AVATAR_3D_400px.gif" class="avatar" />
              <button
                type="button"
                style="position: relative; cursor: pointer"
                class="Upload1"
              >
                <i class="fas fa-camera"></i>
                <!-- profile pic -->
                <input
                  required
                  style="
                    opacity: 0;
                    position: absolute;
                    width: 50px;
                    height: 50px;
                    top: 0;
                    left: 0;
                    border-radius: 50%;
                    cursor: pointer;
                  "
                  type="file"
                  name="userid"
                  id="profilepic"
                />
              </button>
          </div>
          <div>
              <img src="/img/id.gif" class="avatar2" /><br />
           
                <input required type="file" style="width: 0;" class="upload2" name="userid" id="userid"/>
                <label for="userid" class="flabl"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>Choose a file&hellip;</span></label>
            </div>    
            </div>
                  <p id="demo10" class="demo"></p>
            <div class="field">
              <div class="label">Full Name</div>
              <input required type="text" name="fullname" id="name" />
            </div>
            <p class="demo" id="demo"></p>
            <div class="field">
              <div class="label">Username</div>
              <input required type="text" name="username" id="username" onkeyup="this.value = this.value.toLowerCase();"/>
            </div>
            <p class="demo" id="demo7"></p>
            <div class="field">
              <button type="button" class="firstNext next">Next</button>
            </div>
            <p id="msg">{{message}}</p>
          </div>

          <div class="page">
            <div class="title">Contact Info:</div>
            <div class="field" style="margin-bottom: 2px;">
              <div class="label">Email Address</div>
              <input required type="email" name="email" id="email" />
              
            </div>
            <p class="demo" id="demo1"></p>

            <div class="field">
              <div class="label">Phone Number</div>
              <input required type="tel" name="phone" id="phone"/>
              
            </div>
            <p class="demo" id="demo2"></p>
          <br>
            <p>Do not include &plus;91 OR 91</p>

            <div class="field btns">
              <button type="button" class="prev-1 prev">Previous</button>
              <button type="button" class="next-1 next">Next</button>
            </div>
          </div>

          <div class="page">
            <div class="title">College Info:</div>
            <div class="field">
              <div class="label">College</div>
              <select required name="collegename" id="clgname">
                <option value="" class="options">
                  choose your college
                </option>
                <option value="MEERUT COLLEGE MEERUT" class="options">
                  MEERUT COLLEGE MEERUT
                </option>
                <option value="D. N. Degree College Meerut" class="options">
                  D. N. Degree College Meerut
                </option>
                <option
                  value="Raghunath Girl’s Post Graduate College"
                  class="options"
                >
                  Raghunath Girl’s Post Graduate College
                </option>
                <option value="N A S College Meerut" class="options">
                  N A S College Meerut
                </option>
                <option value="MIET COLLEGE" class="options">
                  MIET COLLEGE
                </option>
                <option
                  value="Swami Vivekanand Subharti University"
                  class="options"
                >
                  Swami Vivekanand Subharti University
                </option>
                <option
                  value="Chaudhary Charan Singh University"
                  class="options"
                >
                  Chaudhary Charan Singh University
                </option>
                <option
                  value="Subharti University"
                  class="options"
                >
                  Subharti University
                </option>
                <option value="IIMT UNIVERSITY" class="options">
                  IIMT UNIVERSITY
                </option>
                <option value="add" class="options">
                  Add your College
                </option>
              </select>
            </div>
            <p class="demo" id="demo3"></p>
            <div class="field" id="addnewclg">
              <a href="https://forms.gle/DibNPSpAAGJfYYQW9" class="add">Add your College</a>
            </div>
            <div class="field">
              <div class="label">Course</div>
              <input required type="text" name="course" id="course"/>
            </div>
            <p class="demo" id="demo4"></p>

            <div class="field">
              <div class="label">Start Year</div>
              <input
                required
                type="number"
                class="startyear"
                name="startyear"
                id="syear"
              />
            </div>
            <p class="demo" id="demo5"></p>

            <div class="field">
              <div class="label">End Year</div>
              <input required type="number" class="endyear" name="endyear" id="eyear" />
            </div>
            <p class="demo" id="demo6"></p>

            <div class="field btns">
              <button type="button" class="prev-2 prev">Previous</button>
              <button type="button" class="next-2 next">Next</button>
            </div>
          </div>

          <div class="page">
            <div class="title">Login Details:</div>

            <div class="field">
              <div class="label">Create Password</div>
              <input required type="password" id="password" name="password" />
            </div>
            <p class="demo" id="demo8"></p>

            <div class="field">
              <div class="label">Confirm Password</div>
              <input
                required
                type="password"
                id="confirmpassword"
                name="confirmpassword"
              />
            </div>
            <p class="demo" id="demo9"></p>
                   <div class="field">
              <div class="label">What is your best movie?</div>
              <input required type="text" name="movie" />
            </div>

            <div class="field">
              <div class="label">What is your favourite food?</div>
              <input required type="text" name="food" />
            </div>
            <p id="lastmsg"></p>

            <div class="field btns">
              <button type="button" class="prev-3 prev">Previous</button>
              <button type="submit" class="submit">Submit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  
    <!----------- script to preview images after selecting----------------->
    <script>
      const profileInput = document.querySelector("#profilepic");
      const profileImg = document.querySelector(".avatar");

      const idInput = document.getElementById("userid");
      const idImg = document.querySelector(".avatar2");
      const clg = document.querySelector("#clgname");
      const add = document.querySelector("#addnewclg");

      const imgPreview = (input, img) => {
        if (input.files && input.files[0]) {
          let reader = new FileReader(input);
          reader.onload = function (e) {
            img.setAttribute("src", e.target.result);
          };
          reader.readAsDataURL(input.files[0]);
        }
      };

      profileInput.addEventListener("change", () => {
        imgPreview(profileInput, profileImg);
      });
      idInput.addEventListener("change", () => {
        imgPreview(idInput, idImg);
      });
      clg.addEventListener("change", () => {
        if(clg.value=='add'){
          add.style.display="block";
        }
        else{
          add.style.display='none';
        }
      });
    </script>
    <!------------------ sign up phone email validation script ------------------->
    <script>
      const submitBtn = document.querySelector(".submit");
      const lastMsg = document.querySelector("#lastmsg");

      let msg = "";

      const validateForm = (e) => {
        e.preventDefault();
        const email = document.querySelector("#email").value;
        const phone = document.querySelector("#phone").value;

        const validateEmail = () => {
          if (
            email.slice(email.indexOf("@") + 1, email.indexOf(".")) !== "gmail"
          ) {
            msg = "email id should be gmail only";
          } else {
            msg = true;
          }
          return msg;
        };

        const validatePhone = () => {
          if (phone.length !== 10) {
            msg = "Phone miand max length is 10";
          } else {
            msg = true;
          }
          return msg;
        };

        const isEmailValidate = validateEmail();
        if (isEmailValidate === true) {
          const isPhoneValidate = validatePhone();
          if (isPhoneValidate === true) {
            document.querySelector("#signupform").submit();
          } else {
            lastMsg.innerText = msg;
          }
        } else {
          lastMsg.innerText = msg;
        }
      };

      submitBtn.onclick = validateForm;
    </script>
      <script src="js/signup.js"></script>
  </body>
</html>
